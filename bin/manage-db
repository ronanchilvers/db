#!/usr/bin/env php
<?php

use Ronanchilvers\Db\Console\Command\GenerateCommand;
use Ronanchilvers\Db\Model;
use Symfony\Component\Console\Application;

foreach ([__DIR__ . '/../autoload.php', __DIR__ . '/../vendor/autoload.php', __DIR__ . '/../../../autoload.php'] as $file) {
    if (file_exists($file)) {
        include($file);
        break;
    }
}

$pdo = new PDO(
    'mysql:host=localhost;dbname=db_dev',
    'dev',
    'dev'
);

Model::setPdo($pdo);

$app = new Application('ronanchilvers/db');
$app->add(new GenerateCommand);
$app->run();
